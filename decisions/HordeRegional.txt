# Made by Blanchard33
# Automatically ally all AI Horde members who own provinces in the same region or superregion with each other. 
# Player must enact the decision manually to ally with their regional Horde, to give them more control over their diplomatic relations.
# Meant to remove the necessity of having all Horde members allied with one another.
# May add more diplomatic upkeep for enacting this decision.
# This would work well as an event too.

country_decisions = {
  lordaeron_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { province_group = lordaeron_province_group }
      any_known_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = lordaeron_province_group }
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_known_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = lordaeron_province_group }
      }
    }
    effect = {
      every_known_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { province_group = lordaeron_province_group }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }

  khaz_modan_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { province_group = khaz_modan_province_group }
      any_known_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = khaz_modan_province_group }
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_known_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = khaz_modan_province_group }
      }
    }
    effect = {
      every_known_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { province_group = khaz_modan_province_group }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }

  azeroth_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { province_group = azeroth_province_group }
      any_known_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = azeroth_province_group }
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_known_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = azeroth_province_group }
      }
    }
    effect = {
      every_known_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { province_group = azeroth_province_group }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }

  north_kalimdor_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { province_group = north_kalimdor_province_group }
      any_known_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = north_kalimdor_province_group }
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_known_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = north_kalimdor_province_group }
      }
    }
    effect = {
      every_known_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { province_group = north_kalimdor_province_group }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }

  central_kalimdor_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { province_group = central_kalimdor_province_group }
      any_known_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = central_kalimdor_province_group }
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_known_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = central_kalimdor_province_group }
      }
    }
    effect = {
      every_known_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { province_group = central_kalimdor_province_group }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }

  south_kalimdor_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { province_group = south_kalimdor_province_group }
      any_known_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = south_kalimdor_province_group }
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_known_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = south_kalimdor_province_group }
      }
    }
    effect = {
      every_known_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { province_group = south_kalimdor_province_group }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }

  northrend_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { province_group = northrend_province_group }
      any_known_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = northrend_province_group }
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_known_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = northrend_province_group }
      }
    }
    effect = {
      every_known_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { province_group = northrend_province_group }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }

  outland_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { province_group = outland_province_group }
      any_known_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = outland_province_group }
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_known_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = outland_province_group }
      }
    }
    effect = {
      every_known_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { province_group = outland_province_group }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }

  pandaria_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { province_group = pandaria_province_group }
      any_known_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = pandaria_province_group }
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_known_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { province_group = pandaria_province_group }
      }
    }
    effect = {
      every_known_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { province_group = pandaria_province_group }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }

  kalimdor_horde = {
    major = yes
    potential = {
      is_subject = no
      has_country_modifier = horde_member
      capital_scope = { continent = continent_kalimdor }
      any_neighbor_country = {
        is_subject = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { continent = continent_kalimdor}
        ai = yes
      }
    }
    allow = {
      is_subject = no
      is_at_war = no
      any_neighbor_country = {
        is_subject = no
        is_at_war = no
        has_country_modifier = horde_member
        NOT = { alliance_with = ROOT }
        capital_scope = { continent = continent_kalimdor }
      }
    }
    effect = {
      every_neighbor_country = {
        limit = {
          is_subject = no
          is_at_war = no
          has_country_modifier = horde_member
          NOT = { alliance_with = ROOT }
          capital_scope = { continent = continent_kalimdor }
          ai = yes
        }
        create_alliance = ROOT
      }
    }
    ai_will_do = {
      factor = 1
    }
  }
}
