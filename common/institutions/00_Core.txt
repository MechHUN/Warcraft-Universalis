#
# remember to add graphics for relevant ones when you add to this
#
# if a modifier is scaled, its multiplied with development in the province.

# Institutions


#######################################
# Feudalism
#
# Everyone has it!
#######################################

feudalism = {
	penalty = 0
	bonus = {
		free_leader_pool = 1
	}


	history = {
		is_year = 500
		OR = {
      culture_group = culture_group_human
      culture_group = culture_group_darnassian
      culture_group = culture_group_vrykul
      culture_group = culture_group_orc
      culture_group = culture_group_ogre
      culture_group = culture_group_draenei
      culture_group = culture_group_forest_troll
      culture_group = culture_group_jungle_troll
      culture_group = culture_group_sand_troll
      culture_group = culture_group_ice_troll
      culture_group = culture_group_zandalar_troll
      culture_group = culture_group_dark_troll
      culture_group = culture_group_goblin
      culture_group = culture_group_tauren
      culture_group = culture_group_thalassian
      culture_group = culture_group_aqir
      culture_group = culture_group_demonic
      culture_group = culture_group_satyr
      culture_group = culture_group_naga
      culture_group = culture_group_depths
      culture_group = culture_group_lobstrok
      culture_group = culture_group_old_god
      culture_group = culture_group_dragonkin
      culture_group = culture_group_undead
      culture_group = culture_group_gnoll
      culture_group = culture_group_centaur
      culture_group = culture_group_furbolg
      culture_group = culture_group_wolfvar
      culture_group = culture_group_gorloc
      culture_group = culture_group_kobold
      culture_group = culture_group_magnataur
      culture_group = culture_group_harpy
      culture_group = culture_group_quillboar
      culture_group = culture_group_titan
      culture_group = culture_group_tol_vir
      culture_group = culture_group_elemental
      culture_group = culture_group_worgen
      culture_group = culture_group_arrakoa
      culture_group = culture_group_tuskarr
      culture_group = culture_group_pandaren
      culture_group = culture_group_mogu
      culture_group = culture_group_yaungol
      culture_group = culture_group_ethereal
      culture_group = culture_group_gnomish
      culture_group = culture_group_hozen
      culture_group = culture_group_saurok
      culture_group = culture_group_taunka
      culture_group = culture_group_giant
      culture_group = culture_group_dryad
      culture_group = culture_group_virmen
      culture_group = culture_group_void
      culture_group = culture_group_zangar
      culture_group = culture_group_pygmy
		}
	}

	# no need for events, as its there from the start.
	#can_start = {	is_year = 1000	}
	#start_chance = 100
	#on_start = institution_events.1

	can_embrace = {
		always = yes
	}

	embracement_speed = {
		modifier = {
			factor = 0.5
			scale = yes
			custom_trigger_tooltip = {
				tooltip = FRIENDLY_NEIGHBOR_OR_COAST_PROVINCE_HAS_EMBRACED
				any_friendly_coast_border_province = {
					feudalism = 100
				}
			}
		}
		modifier = {
			factor = 0.1
			scale = yes
			custom_trigger_tooltip = {
				tooltip = NEIGHBOR_NOT_OWNED_IS_FEUDAL
				any_neighbor_province = {
					NOT = { owned_by = ROOT }
					feudalism = 100
				}
			}
		}
		modifier = {
			factor = 0.05
			scale = yes
			potential = {
				has_dlc = "The Cossacks"
				owner = { has_estate = estate_nobles }
			}
			custom_trigger_tooltip = {
				tooltip = FEUDALISM_AND_NOBLES
				any_neighbor_province = {
					feudalism = 100
				}
				owner = {
					has_estate = estate_nobles
					estate_loyalty = {
						estate = estate_nobles
						loyalty = 40
					}
				}
				has_estate = estate_nobles
			}
		}
		modifier = {
			factor = 5
			scale = yes
			potential = {
				owner = {
					is_colonial_nation = yes
				}
			}
			custom_trigger_tooltip = {
				tooltip = PORT_OR_CAPITAL_IN_COLONY_FEUDAL
				OR = {
					has_port = yes
					is_capital = yes
				}
				owner = {
					is_colonial_nation = yes
					overlord = { has_institution = feudalism }
				}
			}
		}
		modifier = {
			factor = 2
			scale = yes
			potential = {
				owner = {
					has_institution = feudalism
				}
			}
			custom_trigger_tooltip = {
				tooltip = tooltip_feudalism_embraced
				owner = {
					has_institution = feudalism
				}
			}
		}
	}

	ai_will_do = { #Cost of embracing institution must be lower than this factor * last month's regular income. (Or it has a more than long term goal...)
		factor = 24

		modifier = {
			factor = 0.25
			is_at_war = yes
		}
	}
}
